var DarkModeMgr=function(){let t='\n\t<svg xmlns="http://www.w3.org/2000/svg" version="1.1">\n\t\t<defs>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_filter_invert">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncG type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncB type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_filter_invert_back">\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="table" tableValues="1 0"/>\n\t\t\t\t\t<feFuncG type="table" tableValues="1 0"/>\n\t\t\t\t\t<feFuncB type="table" tableValues="1 0"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" exponent="1.7"/>\n\t\t\t\t\t<feFuncG type="gamma" exponent="1.7"/>\n\t\t\t\t\t<feFuncB type="gamma" exponent="1.7"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t\t<filter x="0" y="0" width="99999" height="99999" id="_fh_filter_invert_grayscale">\n\t\t\t\t<feColorMatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"/>\n\t\t\t\t<feComponentTransfer>\n\t\t\t\t\t<feFuncR type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncG type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t\t<feFuncB type="gamma" amplitude="-1" exponent="3" offset="1"/>\n\t\t\t\t</feComponentTransfer>\n\t\t\t</filter>\n\t\t</defs>\n\t</svg>',e='\n\thtml[dark-mode="on"] {\n\t    filter: url("#_fh_filter_invert");\n\t    -ms-filter: url("#_fh_filter_invert");\n\t    -webkit-filter: url("#_fh_filter_invert");\n\t}\n\thtml[dark-mode="on"] img[src*="jpg"], \n\thtml[dark-mode="on"] img[src*="jpeg"], \n\thtml[dark-mode="on"] svg image, \n\thtml[dark-mode="on"] embed, \n\thtml[dark-mode="on"] object, \n\thtml[dark-mode="on"] video {\n\t    filter: url("#_fh_filter_invert_back");\n\t    -ms-filter: url("#_fh_filter_invert_back");\n\t    -webkit-filter: url("#_fh_filter_invert_back");\n\t}\n\thtml[dark-mode="on"] img[src*="donate.jpeg"] {\n\t    filter: url("#_fh_filter_invert_grayscale");\n\t    -ms-filter: url("#_fh_filter_invert_grayscale");\n\t    -webkit-filter: url("#_fh_filter_invert_grayscale");\n\t} \n\t',n=/Firefox/.test(navigator.userAgent);function r(){let n=document.getElementById("hc_style");if(!n){let t=window.location.href.replace(window.location.hash,""),r=e.replace(/#/g,t+"#");(n=document.createElement("style")).id="hc_style",n.setAttribute("type","text/css"),n.innerHTML=r,document.head.appendChild(n)}let r=document.getElementById("_fh_filter_bkgnd");r||((r=document.createElement("div")).id="_fh_filter_bkgnd",r.style.position="fixed",r.style.left="0px",r.style.top="0px",r.style.right="0px",r.style.bottom="0px",r.style.zIndex=-1999999999,document.body.appendChild(r)),r.style.display="block",r.style.background=window.getComputedStyle(document.body).background;let o=(r.style.backgroundColor||"").replace(/\s\s*/g,""),i=/^rgba\(([\d]+),([\d]+),([\d]+),([\d]+|[\d]*.[\d]+)\)/i.exec(o);i&&"0"===i[4]&&(r.style.backgroundColor="#fff");let l=document.getElementById("_fh_filter_svg_filters");l||((l=document.createElement("span")).id="_fh_filter_svg_filters",/Firefox/.test(navigator.userAgent)||l.setAttribute("hidden","hidden"),l.innerHTML=t,document.body.appendChild(l))}function o(t){if(!n&&(document.documentElement.setAttribute("dark-mode",t?"on":"off"),!chrome.runtime.lastError&&t)){window===window.top&&(window.scrollBy(0,1),window.scrollBy(0,-1)),window.setTimeout(r,2e3),r(),new MutationObserver(function(t){r()}).observe(document.body,{attributes:!0,childList:!0,characterData:!0})}}return{turnLight:o,turnLightAuto:function(){n||chrome.runtime.sendMessage({type:"fh-dynamic-any-thing",func:((t,e)=>{let n=(new Date).getHours(),r="true"===localStorage.getItem("AUTO_DARK_MODE"),o="true"===localStorage.getItem("ALWAYS_DARK_MODE"),i=r&&o;return i||(i=r&&(n>=19||n<6)),i&&e&&e(i),!0}).toString()},o)}}}();