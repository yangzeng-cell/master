let pleaseLetJsLoaded=0,__importScript=filename=>{pleaseLetJsLoaded=100;let url=filename;("chrome-extension:"===location.protocol||chrome.runtime&&chrome.runtime.getURL)&&(url=chrome.runtime.getURL("json-format/"+filename)),fetch(url).then(e=>e.text()).then(jsText=>eval(jsText))};var TRbignumber=function(e){return function(t){"use strict";var n,r=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,s=" not a boolean or binary digit",l="rounding mode",a="number type has more than 15 significant digits",c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",u=1e14,f=14,d=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],h=1e7,g=1e9;function m(e){var t=0|e;return e>0||e===t?t:t-1}function b(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=f-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function y(e,t){var n,r,o=e.c,i=t.c,s=e.s,l=t.s,a=e.e,c=t.e;if(!s||!l)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-l:s;if(s!=l)return s;if(n=s<0,r=a==c,!o||!i)return r?0:!o^n?1:-1;if(!r)return a>c^n?1:-1;for(l=(a=o.length)<(c=i.length)?a:c,s=0;s<l;s++)if(o[s]!=i[s])return o[s]>i[s]^n?1:-1;return a==c?0:a>c^n?1:-1}function v(e,t,n){return(e=S(e))>=t&&e<=n}function w(e){return"[object Array]"==Object.prototype.toString.call(e)}function N(e,t,n){for(var r,o,i=[0],s=0,l=e.length;s<l;){for(o=i.length;o--;i[o]*=t);for(i[r=0]+=c.indexOf(e.charAt(s++));r<i.length;r++)i[r]>n-1&&(null==i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function x(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function _(e,t){var n,r;if(t<0){for(r="0.";++t;r+="0");e=r+e}else if(++t>(n=e.length)){for(r="0",t-=n;--t;r+="0");e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}function S(e){return(e=parseFloat(e))<0?o(e):i(e)}(n=function e(t){var n,O,C,j,k,T,E,J,A=0,$=W.prototype,M=new W(1),F=20,B=4,D=-7,L=21,R=-1e7,I=1e7,U=!0,H=Y,q=!1,P=1,G=0,z={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function W(e,t){var n,o,s,l,u,p,h=this;if(!(h instanceof W))return U&&Z(26,"constructor call without new",e),new W(e,t);if(null!=t&&H(t,2,64,A,"base")){if(p=e+"",10==(t|=0))return ee(h=new W(e instanceof W?e:p),F+h.e+1,B);if((l="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+c.slice(0,t)+"]+")+"(?:\\."+n+")?$",t<37?"i":"").test(p))return O(h,p,l,t);l?(h.s=1/e<0?(p=p.slice(1),-1):1,U&&p.replace(/^0\.0*|\./,"").length>15&&Z(A,a,e),l=!1):h.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1,p=K(p,10,t,h.s)}else{if(e instanceof W)return h.s=e.s,h.e=e.e,h.c=(e=e.c)?e.slice():e,void(A=0);if((l="number"==typeof e)&&0*e==0){if(h.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,s=e;s>=10;s/=10,o++);return h.e=o,h.c=[e],void(A=0)}p=e+""}else{if(!r.test(p=e+""))return O(h,p,l);h.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1}}for((o=p.indexOf("."))>-1&&(p=p.replace(".","")),(s=p.search(/e/i))>0?(o<0&&(o=s),o+=+p.slice(s+1),p=p.substring(0,s)):o<0&&(o=p.length),s=0;48===p.charCodeAt(s);s++);for(u=p.length;48===p.charCodeAt(--u););if(p=p.slice(s,u+1))if(u=p.length,l&&U&&u>15&&(e>d||e!==i(e))&&Z(A,a,h.s*e),(o=o-s-1)>I)h.c=h.e=null;else if(o<R)h.c=[h.e=0];else{if(h.e=o,h.c=[],s=(o+1)%f,o<0&&(s+=f),s<u){for(s&&h.c.push(+p.slice(0,s)),u-=f;s<u;)h.c.push(+p.slice(s,s+=f));p=p.slice(s),s=f-p.length}else s-=u;for(;s--;p+="0");h.c.push(+p)}else h.c=[h.e=0];A=0}function K(e,t,r,o){var i,s,l,a,u,f,d,p=e.indexOf("."),h=F,g=B;for(r<37&&(e=e.toLowerCase()),p>=0&&(l=G,G=0,e=e.replace(".",""),u=(d=new W(r)).pow(e.length-p),G=l,d.c=N(_(b(u.c),u.e),10,t),d.e=d.c.length),s=l=(f=N(e,r,t)).length;0==f[--l];f.pop());if(!f[0])return"0";if(p<0?--s:(u.c=f,u.e=s,u.s=o,f=(u=n(u,d,h,g,t)).c,a=u.r,s=u.e),p=f[i=s+h+1],l=t/2,a=a||i<0||null!=f[i+1],a=g<4?(null!=p||a)&&(0==g||g==(u.s<0?3:2)):p>l||p==l&&(4==g||a||6==g&&1&f[i-1]||g==(u.s<0?8:7)),i<1||!f[0])e=a?_("1",-h):"0";else{if(f.length=i,a)for(--t;++f[--i]>t;)f[i]=0,i||(++s,f=[1].concat(f));for(l=f.length;!f[--l];);for(p=0,e="";p<=l;e+=c.charAt(f[p++]));e=_(e,s)}return e}function X(e,t,n,r){var o,i,s,a,c;if(n=null!=n&&H(n,0,8,r,l)?0|n:B,!e.c)return e.toString();if(o=e.c[0],s=e.e,null==t)c=b(e.c),c=19==r||24==r&&s<=D?x(c,s):_(c,s);else if(i=(e=ee(new W(e),t,n)).e,a=(c=b(e.c)).length,19==r||24==r&&(t<=i||i<=D)){for(;a<t;c+="0",a++);c=x(c,i)}else if(t-=s,c=_(c,i),i+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=i-a)>0)for(i+1==a&&(c+=".");t--;c+="0");return e.s<0&&o?"-"+c:c}function Q(e,t){var n,r,o=0;for(w(e[0])&&(e=e[0]),n=new W(e[0]);++o<e.length;){if(!(r=new W(e[o])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function Y(e,t,n,r,o){return(e<t||e>n||e!=S(e))&&Z(r,(o||"decimal places")+(e<t||e>n?" out of range":" not an integer"),e),!0}function V(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*f-1)>I?e.c=e.e=null:n<R?e.c=[e.e=0]:(e.e=n,e.c=t),e}function Z(e,t,n){var r=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n);throw r.name="BigNumber Error",A=0,r}function ee(e,t,n,r){var s,l,a,c,d,h,g,m=e.c,b=p;if(m){e:{for(s=1,c=m[0];c>=10;c/=10,s++);if((l=t-s)<0)l+=f,a=t,g=(d=m[h=0])/b[s-a-1]%10|0;else if((h=o((l+1)/f))>=m.length){if(!r)break e;for(;m.length<=h;m.push(0));d=g=0,s=1,a=(l%=f)-f+1}else{for(d=c=m[h],s=1;c>=10;c/=10,s++);g=(a=(l%=f)-f+s)<0?0:d/b[s-a-1]%10|0}if(r=r||t<0||null!=m[h+1]||(a<0?d:d%b[s-a-1]),r=n<4?(g||r)&&(0==n||n==(e.s<0?3:2)):g>5||5==g&&(4==n||r||6==n&&(l>0?a>0?d/b[s-a]:0:m[h-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=b[(f-t%f)%f],e.e=-t||0):m[0]=e.e=0,e;if(0==l?(m.length=h,c=1,h--):(m.length=h+1,c=b[f-l],m[h]=a>0?i(d/b[s-a]%b[a])*c:0),r)for(;;){if(0==h){for(l=1,a=m[0];a>=10;a/=10,l++);for(a=m[0]+=c,c=1;a>=10;a/=10,c++);l!=c&&(e.e++,m[0]==u&&(m[0]=1));break}if(m[h]+=c,m[h]!=u)break;m[h--]=0,c=1}for(l=m.length;0===m[--l];m.pop());}e.e>I?e.c=e.e=null:e.e<R&&(e.c=[e.e=0])}return e}return W.another=e,W.ROUND_UP=0,W.ROUND_DOWN=1,W.ROUND_CEIL=2,W.ROUND_FLOOR=3,W.ROUND_HALF_UP=4,W.ROUND_HALF_DOWN=5,W.ROUND_HALF_EVEN=6,W.ROUND_HALF_CEIL=7,W.ROUND_HALF_FLOOR=8,W.EUCLID=9,W.config=W.set=function(){var e,t,n=0,r={},o=arguments,i=o[0],l=i&&"object"==typeof i?function(){if(i.hasOwnProperty(t))return null!=(e=i[t])}:function(){if(o.length>n)return null!=(e=o[n++])};return l(t="DECIMAL_PLACES")&&H(e,0,g,2,t)&&(F=0|e),r[t]=F,l(t="ROUNDING_MODE")&&H(e,0,8,2,t)&&(B=0|e),r[t]=B,l(t="EXPONENTIAL_AT")&&(w(e)?H(e[0],-g,0,2,t)&&H(e[1],0,g,2,t)&&(D=0|e[0],L=0|e[1]):H(e,-g,g,2,t)&&(D=-(L=0|(e<0?-e:e)))),r[t]=[D,L],l(t="RANGE")&&(w(e)?H(e[0],-g,-1,2,t)&&H(e[1],1,g,2,t)&&(R=0|e[0],I=0|e[1]):H(e,-g,g,2,t)&&(0|e?R=-(I=0|(e<0?-e:e)):U&&Z(2,t+" cannot be zero",e))),r[t]=[R,I],l(t="ERRORS")&&(e===!!e||1===e||0===e?(A=0,H=(U=!!e)?Y:v):U&&Z(2,t+s,e)),r[t]=U,l(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?q=!0:U?Z(2,"crypto unavailable",e?void 0:crypto):q=!1:q=!1:U&&Z(2,t+s,e)),r[t]=q,l(t="MODULO_MODE")&&H(e,0,9,2,t)&&(P=0|e),r[t]=P,l(t="POW_PRECISION")&&H(e,0,g,2,t)&&(G=0|e),r[t]=G,l(t="FORMAT")&&("object"==typeof e?z=e:U&&Z(2,t+" not an object",e)),r[t]=z,r},W.max=function(){return Q(arguments,$.lt)},W.min=function(){return Q(arguments,$.gt)},W.random=(C=9007199254740992*Math.random()&2097151?function(){return i(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,s,l,a=0,c=[],u=new W(M);if(e=null!=e&&H(e,0,g,14)?0|e:F,s=o(e/f),q)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));a<s;)(l=131072*t[a]+(t[a+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[a]=n[0],t[a+1]=n[1]):(c.push(l%1e14),a+=2);a=s/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(s*=7);a<s;)(l=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])>=9e15?crypto.randomBytes(7).copy(t,a):(c.push(l%1e14),a+=7);a=s/7}else q=!1,U&&Z(14,"crypto unavailable",crypto);if(!q)for(;a<s;)(l=C())<9e15&&(c[a++]=l%1e14);for(s=c[--a],e%=f,s&&e&&(l=p[f-e],c[a]=i(s/l)*l);0===c[a];c.pop(),a--);if(a<0)c=[r=0];else{for(r=-1;0===c[0];c.splice(0,1),r-=f);for(a=1,l=c[0];l>=10;l/=10,a++);a<f&&(r-=f-a)}return u.e=r,u.c=c,u}),n=function(){function e(e,t,n){var r,o,i,s,l=0,a=e.length,c=t%h,u=t/h|0;for(e=e.slice();a--;)l=((o=c*(i=e[a]%h)+(r=u*i+(s=e[a]/h|0)*c)%h*h+l)/n|0)+(r/h|0)+u*s,e[a]=o%n;return l&&(e=[l].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,s,l,a){var c,d,p,h,g,b,y,v,w,N,x,_,S,O,C,j,k,T=r.s==o.s?1:-1,E=r.c,J=o.c;if(!(E&&E[0]&&J&&J[0]))return new W(r.s&&o.s&&(E?!J||E[0]!=J[0]:J)?E&&0==E[0]||!J?0*T:T/0:NaN);for(w=(v=new W(T)).c=[],T=s+(d=r.e-o.e)+1,a||(a=u,d=m(r.e/f)-m(o.e/f),T=T/f|0),p=0;J[p]==(E[p]||0);p++);if(J[p]>(E[p]||0)&&d--,T<0)w.push(1),h=!0;else{for(O=E.length,j=J.length,p=0,T+=2,(g=i(a/(J[0]+1)))>1&&(J=e(J,g,a),E=e(E,g,a),j=J.length,O=E.length),S=j,x=(N=E.slice(0,j)).length;x<j;N[x++]=0);k=J.slice(),k=[0].concat(k),C=J[0],J[1]>=a/2&&C++;do{if(g=0,(c=t(J,N,j,x))<0){if(_=N[0],j!=x&&(_=_*a+(N[1]||0)),(g=i(_/C))>1)for(g>=a&&(g=a-1),y=(b=e(J,g,a)).length,x=N.length;1==t(b,N,y,x);)g--,n(b,j<y?k:J,y,a),y=b.length,c=1;else 0==g&&(c=g=1),y=(b=J.slice()).length;if(y<x&&(b=[0].concat(b)),n(N,b,x,a),x=N.length,-1==c)for(;t(J,N,j,x)<1;)g++,n(N,j<x?k:J,x,a),x=N.length}else 0===c&&(g++,N=[0]);w[p++]=g,N[0]?N[x++]=E[S]||0:(N=[E[S]],x=1)}while((S++<O||null!=N[0])&&T--);h=null!=N[0],w[0]||w.splice(0,1)}if(a==u){for(p=1,T=w[0];T>=10;T/=10,p++);ee(v,s+(v.e=p+d*f-1)+1,l,h)}else v.e=d,v.r=+h;return v}}(),j=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,T=/^\.([^.]+)$/,E=/^-?(Infinity|NaN)$/,J=/^\s*\+(?=[\w.])|^\s+|\s+$/g,O=function(e,t,n,r){var o,i=n?t:t.replace(J,"");if(E.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(j,function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t}),r&&(o=r,i=i.replace(k,"$1").replace(T,"0.$1")),t!=i))return new W(i,o);U&&Z(A,"not a"+(r?" base "+r:"")+" number",t),e.s=null}e.c=e.e=null,A=0},$.absoluteValue=$.abs=function(){var e=new W(this);return e.s<0&&(e.s=1),e},$.ceil=function(){return ee(new W(this),this.e+1,2)},$.comparedTo=$.cmp=function(e,t){return A=1,y(this,new W(e,t))},$.decimalPlaces=$.dp=function(){var e,t,n=this.c;if(!n)return null;if(e=((t=n.length-1)-m(this.e/f))*f,t=n[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},$.dividedBy=$.div=function(e,t){return A=3,n(this,new W(e,t),F,B)},$.dividedToIntegerBy=$.divToInt=function(e,t){return A=4,n(this,new W(e,t),0,1)},$.equals=$.eq=function(e,t){return A=5,0===y(this,new W(e,t))},$.floor=function(){return ee(new W(this),this.e+1,3)},$.greaterThan=$.gt=function(e,t){return A=6,y(this,new W(e,t))>0},$.greaterThanOrEqualTo=$.gte=function(e,t){return A=7,1===(t=y(this,new W(e,t)))||0===t},$.isFinite=function(){return!!this.c},$.isInteger=$.isInt=function(){return!!this.c&&m(this.e/f)>this.c.length-2},$.isNaN=function(){return!this.s},$.isNegative=$.isNeg=function(){return this.s<0},$.isZero=function(){return!!this.c&&0==this.c[0]},$.lessThan=$.lt=function(e,t){return A=8,y(this,new W(e,t))<0},$.lessThanOrEqualTo=$.lte=function(e,t){return A=9,-1===(t=y(this,new W(e,t)))||0===t},$.minus=$.sub=function(e,t){var n,r,o,i,s=this,l=s.s;if(A=10,t=(e=new W(e,t)).s,!l||!t)return new W(NaN);if(l!=t)return e.s=-t,s.plus(e);var a=s.e/f,c=e.e/f,d=s.c,p=e.c;if(!a||!c){if(!d||!p)return d?(e.s=-t,e):new W(p?s:NaN);if(!d[0]||!p[0])return p[0]?(e.s=-t,e):new W(d[0]?s:3==B?-0:0)}if(a=m(a),c=m(c),d=d.slice(),l=a-c){for((i=l<0)?(l=-l,o=d):(c=a,o=p),o.reverse(),t=l;t--;o.push(0));o.reverse()}else for(r=(i=(l=d.length)<(t=p.length))?l:t,l=t=0;t<r;t++)if(d[t]!=p[t]){i=d[t]<p[t];break}if(i&&(o=d,d=p,p=o,e.s=-e.s),(t=(r=p.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=u-1;r>l;){if(d[--r]<p[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=u}d[r]-=p[r]}for(;0==d[0];d.splice(0,1),--c);return d[0]?V(e,d,c):(e.s=3==B?-1:1,e.c=[e.e=0],e)},$.modulo=$.mod=function(e,t){var r,o,i=this;return A=11,e=new W(e,t),!i.c||!e.s||e.c&&!e.c[0]?new W(NaN):!e.c||i.c&&!i.c[0]?new W(i):(9==P?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,P),i.minus(r.times(e)))},$.negated=$.neg=function(){var e=new W(this);return e.s=-e.s||null,e},$.plus=$.add=function(e,t){var n,r=this,o=r.s;if(A=12,t=(e=new W(e,t)).s,!o||!t)return new W(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/f,s=e.e/f,l=r.c,a=e.c;if(!i||!s){if(!l||!a)return new W(o/0);if(!l[0]||!a[0])return a[0]?e:new W(l[0]?r:0*o)}if(i=m(i),s=m(s),l=l.slice(),o=i-s){for(o>0?(s=i,n=a):(o=-o,n=l),n.reverse();o--;n.push(0));n.reverse()}for((o=l.length)-(t=a.length)<0&&(n=a,a=l,l=n,t=o),o=0;t;)o=(l[--t]=l[t]+a[t]+o)/u|0,l[t]=u===l[t]?0:l[t]%u;return o&&(l=[o].concat(l),++s),V(e,l,s)},$.precision=$.sd=function(e){var t,n,r=this,o=r.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(U&&Z(13,"argument"+s,e),e!=!!e&&(e=null)),!o)return null;if(t=(n=o.length-1)*f+1,n=o[n]){for(;n%10==0;n/=10,t--);for(n=o[0];n>=10;n/=10,t++);}return e&&r.e+1>t&&(t=r.e+1),t},$.round=function(e,t){var n=new W(this);return(null==e||H(e,0,g,15))&&ee(n,~~e+this.e+1,null!=t&&H(t,0,8,15,l)?0|t:B),n},$.shift=function(e){var t=this;return H(e,-d,d,16,"argument")?t.times("1e"+S(e)):new W(t.c&&t.c[0]&&(e<-d||e>d)?t.s*(e<0?0:1/0):t)},$.squareRoot=$.sqrt=function(){var e,t,r,o,i,s=this,l=s.c,a=s.s,c=s.e,u=F+4,f=new W("0.5");if(1!==a||!l||!l[0])return new W(!a||a<0&&(!l||l[0])?NaN:l?s:1/0);if(0==(a=Math.sqrt(+s))||a==1/0?(((t=b(l)).length+c)%2==0&&(t+="0"),a=Math.sqrt(t),c=m((c+1)/2)-(c<0||c%2),r=new W(t=a==1/0?"1e"+c:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+c)):r=new W(a+""),r.c[0])for((a=(c=r.e)+u)<3&&(a=0);;)if(i=r,r=f.times(i.plus(n(s,i,u,1))),b(i.c).slice(0,a)===(t=b(r.c)).slice(0,a)){if(r.e<c&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(ee(r,r.e+F+2,1),e=!r.times(r).eq(s));break}if(!o&&(ee(i,i.e+F+2,0),i.times(i).eq(s))){r=i;break}u+=4,a+=4,o=1}return ee(r,r.e+F+1,B,e)},$.times=$.mul=function(e,t){var n,r,o,i,s,l,a,c,d,p,g,b,y,v,w,N=this,x=N.c,_=(A=17,e=new W(e,t)).c;if(!(x&&_&&x[0]&&_[0]))return!N.s||!e.s||x&&!x[0]&&!_||_&&!_[0]&&!x?e.c=e.e=e.s=null:(e.s*=N.s,x&&_?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=m(N.e/f)+m(e.e/f),e.s*=N.s,(a=x.length)<(p=_.length)&&(y=x,x=_,_=y,o=a,a=p,p=o),o=a+p,y=[];o--;y.push(0));for(v=u,w=h,o=p;--o>=0;){for(n=0,g=_[o]%w,b=_[o]/w|0,i=o+(s=a);i>o;)n=((c=g*(c=x[--s]%w)+(l=b*c+(d=x[s]/w|0)*g)%w*w+y[i]+n)/v|0)+(l/w|0)+b*d,y[i--]=c%v;y[i]=n}return n?++r:y.splice(0,1),V(e,y,r)},$.toDigits=function(e,t){var n=new W(this);return e=null!=e&&H(e,1,g,18,"precision")?0|e:null,t=null!=t&&H(t,0,8,18,l)?0|t:B,e?ee(n,e,t):n},$.toExponential=function(e,t){return X(this,null!=e&&H(e,0,g,19)?1+~~e:null,t,19)},$.toFixed=function(e,t){return X(this,null!=e&&H(e,0,g,20)?~~e+this.e+1:null,t,20)},$.toFormat=function(e,t){var n=X(this,null!=e&&H(e,0,g,21)?~~e+this.e+1:null,t,21);if(this.c){var r,o=n.split("."),i=+z.groupSize,s=+z.secondaryGroupSize,l=z.groupSeparator,a=o[0],c=o[1],u=this.s<0,f=u?a.slice(1):a,d=f.length;if(s&&(r=i,i=s,s=r,d-=r),i>0&&d>0){for(r=d%i||i,a=f.substr(0,r);r<d;r+=i)a+=l+f.substr(r,i);s>0&&(a+=l+f.slice(r)),u&&(a="-"+a)}n=c?a+z.decimalSeparator+((s=+z.fractionGroupSize)?c.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+z.fractionGroupSeparator):c):a}return n},$.toFraction=function(e){var t,r,o,i,s,l,a,c,u,d=U,h=this,g=h.c,m=new W(M),y=r=new W(M),v=a=new W(M);if(null!=e&&(U=!1,l=new W(e),U=d,(d=l.isInt())&&!l.lt(M)||(U&&Z(22,"max denominator "+(d?"out of range":"not an integer"),e),e=!d&&l.c&&ee(l,l.e+1,1).gte(M)?l:null)),!g)return h.toString();for(u=b(g),i=m.e=u.length-h.e-1,m.c[0]=p[(s=i%f)<0?f+s:s],e=!e||l.cmp(m)>0?i>0?m:y:l,s=I,I=1/0,l=new W(u),a.c[0]=0;c=n(l,m,0,1),1!=(o=r.plus(c.times(v))).cmp(e);)r=v,v=o,y=a.plus(c.times(o=y)),a=o,m=l.minus(c.times(o=m)),l=o;return o=n(e.minus(r),v,0,1),a=a.plus(o.times(y)),r=r.plus(o.times(v)),a.s=y.s=h.s,t=n(y,v,i*=2,B).minus(h).abs().cmp(n(a,r,i,B).minus(h).abs())<1?[y.toString(),v.toString()]:[a.toString(),r.toString()],I=s,t},$.toNumber=function(){return+this},$.toPower=$.pow=function(e,t){var n,r,s,l=i(e<0?-e:+e),a=this;if(null!=t&&(A=23,t=new W(t)),!H(e,-d,d,23,"exponent")&&(!isFinite(e)||l>d&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return n=Math.pow(+a,e),new W(t?n%t:n);for(t?e>1&&a.gt(M)&&a.isInt()&&t.gt(M)&&t.isInt()?a=a.mod(t):(s=t,t=null):G&&(n=o(G/f+2)),r=new W(M);;){if(l%2){if(!(r=r.times(a)).c)break;n?r.c.length>n&&(r.c.length=n):t&&(r=r.mod(t))}if(!(l=i(l/2)))break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):t&&(a=a.mod(t))}return t?r:(e<0&&(r=M.div(r)),s?r.mod(s):n?ee(r,G,B):r)},$.toPrecision=function(e,t){return X(this,null!=e&&H(e,1,g,24,"precision")?0|e:null,t,24)},$.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=b(n.c),t=null!=e&&H(e,2,64,25,"base")?K(_(t,o),0|e,10,r):o<=D||o>=L?x(t,o):_(t,o),r<0&&n.c[0]&&(t="-"+t)),t},$.truncated=$.trunc=function(){return ee(new W(this),this.e+1,1)},$.valueOf=$.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=b(t.c),e=n<=D||n>=L?x(e,n):_(e,n),t.s<0?"-"+e:e)},$.isBigNumber=!0,null!=t&&W.config(t),W}()).default=n.BigNumber=n,"function"==typeof define&&define.amd?define(function(){return n}):void 0!==e&&e.exports?e.exports=n:(t||(t="undefined"!=typeof self?self:Function("return this")()),t.BigNumber=n)}(this),e.exports}({exports:{}}),TRstringify=function(e){var t={};return function(){"use strict";var e,n,r,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof t.stringify&&(t.stringify=function(t,o,i){var l;if(e="",n="","number"==typeof i)for(l=0;l<i;l+=1)n+=" ";else"string"==typeof i&&(n=i);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return function t(o,i){var l,a,c,u,f,d=e,p=i[o],h=null!=p&&(p instanceof BigNumber||p.isBigNumber);switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(o)),"function"==typeof r&&(p=r.call(i,o,p)),typeof p){case"string":return h?p:s(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(e+=n,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(u=p.length,l=0;l<u;l+=1)f[l]=t(l,p)||"null";return c=0===f.length?"[]":e?"[\n"+e+f.join(",\n"+e)+"\n"+d+"]":"["+f.join(",")+"]",e=d,c}if(r&&"object"==typeof r)for(u=r.length,l=0;l<u;l+=1)"string"==typeof r[l]&&(c=t(a=r[l],p))&&f.push(s(a)+(e?": ":":")+c);else Object.keys(p).forEach(function(n){var r=t(n,p);r&&f.push(s(n)+(e?": ":":")+r)});return c=0===f.length?"{}":e?"{\n"+e+f.join(",\n"+e)+"\n"+d+"}":"{"+f.join(",")+"}",e=d,c}}("",{"":t})})}(),e.exports=t.stringify,e.exports}({exports:{}}),TRparse=function(e){return e.exports=function(e){"use strict";var t={strict:!1,storeAsString:!1};null!=e&&(!0===e.strict&&(t.strict=!0),!0===e.storeAsString&&(t.storeAsString=!0));var n,r,o,i,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(e){throw{name:"SyntaxError",message:e,at:n,text:o}},a=function(e){return e&&e!==r&&l("Expected '"+e+"' instead of '"+r+"'"),r=o.charAt(n),n+=1,r},c=function(){var e,n="";for("-"===r&&(n="-",a("-"));r>="0"&&r<="9";)n+=r,a();if("."===r)for(n+=".";a()&&r>="0"&&r<="9";)n+=r;if("e"===r||"E"===r)for(n+=r,a(),"-"!==r&&"+"!==r||(n+=r,a());r>="0"&&r<="9";)n+=r,a();if(e=+n,isFinite(e))return n.length>15?!0===t.storeAsString?n:new BigNumber(n):e;l("Bad number")},u=function(){var e,t,n,o="";if('"'===r)for(;a();){if('"'===r)return a(),o;if("\\"===r)if(a(),"u"===r){for(n=0,t=0;t<4&&(e=parseInt(a(),16),isFinite(e));t+=1)n=16*n+e;o+=String.fromCharCode(n)}else{if("string"!=typeof s[r])break;o+=s[r]}else o+=r}l("Bad string")},f=function(){for(;r&&r<=" ";)a()};return i=function(){switch(f(),r){case"{":return function(){var e,n={};if("{"===r){if(a("{"),f(),"}"===r)return a("}"),n;for(;r;){if(e=u(),f(),a(":"),!0===t.strict&&Object.hasOwnProperty.call(n,e)&&l('Duplicate key "'+e+'"'),n[e]=i(),f(),"}"===r)return a("}"),n;a(","),f()}}l("Bad object")}();case"[":return function(){var e=[];if("["===r){if(a("["),f(),"]"===r)return a("]"),e;for(;r;){if(e.push(i()),f(),"]"===r)return a("]"),e;a(","),f()}}l("Bad array")}();case'"':return u();case"-":return c();default:return r>="0"&&r<="9"?c():function(){switch(r){case"t":return a("t"),a("r"),a("u"),a("e"),!0;case"f":return a("f"),a("a"),a("l"),a("s"),a("e"),!1;case"n":return a("n"),a("u"),a("l"),a("l"),null}l("Unexpected '"+r+"'")}()}},function(e,t){var s;return o=e+"",n=0,r=" ",s=i(),f(),r&&l("Syntax error"),"function"==typeof t?function e(n,r){var o,i=n[r];return i&&"object"==typeof i&&Object.keys(i).forEach(function(t){void 0!==(o=e(i,t))?i[t]=o:delete i[t]}),t.call(n,r,i)}({"":s},""):s}},e.exports}({exports:{}}),BigNumber=TRbignumber,json_stringify=TRstringify,json_parse=TRparse;let Jb=function(e){return{parse:json_parse(e),stringify:json_stringify}};window.JSON.parse=json_parse(),window.JSON.stringify=json_stringify,window.JSON.BigNumber=BigNumber;let JsonFormatEntrance=function(){"use strict";let e,t,n,r,o,i,s=0,l="",a=function(e){let t=(new Date).format("yyyyMMddHHmmss"),n=new Blob([e],{type:"application/octet-stream"}),r=$('<button class="xjf-btn xjf-btn-right">下载JSON</button>').appendTo("#optionBar");"undefined"!=typeof chrome&&chrome.permissions?r.click(function(e){chrome.permissions.request({permissions:["downloads"]},e=>{e?chrome.downloads.download({url:URL.createObjectURL(n),saveAs:!0,conflictAction:"overwrite",filename:"FeHelper-"+t+".json"}):toast("必须接受授权，才能正常下载！")})}):r.click(function(e){let r=$("#aLinkDownload");r[0]||((r=$('<a id="aLinkDownload" target="_blank" title="保存到本地">下载JSON数据</a>').appendTo("body")).attr("download","FeHelper-"+t+".json"),r.attr("href",URL.createObjectURL(n))),r[0].click()})},c=function(e){let t=e.text().replace(/":\s/gm,'":').replace(/,$/,"").trim();/^{/.test(t)&&/\}$/.test(t)||/^\[/.test(t)&&/\]$/.test(t)||(t="{"+t+"}");try{t=JSON.stringify(JSON.parse(t),null,4)}catch(e){}return t},u=function(t){(r=$("#boxOpt")).length||(r=$('<div id="boxOpt"><a class="opt-download" target="_blank">下载</a>|<a class="opt-copy">复制</a>|<a class="opt-del">删除</a></div>').appendTo(e)),r.find("a.opt-download").unbind("click").bind("click",function(e){let n=c(t),r=(new Date).format("yyyyMMddHHmmss"),o=new Blob([n],{type:"application/octet-stream"});"undefined"!=typeof chrome&&chrome.permissions?chrome.permissions.request({permissions:["downloads"]},e=>{e?chrome.downloads.download({url:URL.createObjectURL(o),saveAs:!0,conflictAction:"overwrite",filename:"FeHelper-"+r+".json"}):toast("必须接受授权，才能正常下载！")}):$(this).attr("download","FeHelper-"+r+".json").attr("href",URL.createObjectURL(o))}),r.find("a.opt-copy").unbind("click").bind("click",function(e){!function(e){let t=document.createElement("textarea");t.style.position="fixed",t.style.opacity=0,t.value=e,document.body.appendChild(t),t.select(),document.execCommand("Copy"),document.body.removeChild(t),toast("Json片段复制成功，随处粘贴可用！")}(c(t))}),r.find("a.opt-del").unbind("click").bind("click",function(e){if(t.parent().is("#formattedJson"))return toast("如果连最外层的Json也删掉的话，就没啥意义了哦！"),!1;toast("节点已删除成功！"),t.remove(),r.css("top",-1e3).hide(),o&&o.hide()}),r.css({left:t.offset().left+t.width()-90,top:t.offset().top}).show()};function f(e){let t;$.each(e,function(e){if((t=$(this)).children(".blockInner").length&&(t.addClass("collapsed"),!t.attr("id"))){t.attr("id","kvov"+ ++s);let e=t.children(".blockInner").eq(0).children().length,r=e+(1===e?" item":" items");n[0].insertAdjacentHTML("beforeend","\n#kvov"+s+'.collapsed:after{color: #aaa; content:" // '+r+'"}')}})}let d=function(){let n=$("#optionBar");n.length?n.html(""):n=$('<span id="optionBar" />').appendTo(e.parent()),$('<span class="x-split">|</span>').appendTo(n);let i=$('<button class="xjf-btn xjf-btn-left">元数据</button>').appendTo(n),s=$('<button class="xjf-btn xjf-btn-mid">折叠所有</button>').appendTo(n),l=!1;i.bind("click",function(n){l?(l=!1,t.hide(),e.show(),i.text("元数据")):(l=!0,t.show(),e.hide(),i.text("格式化")),r&&r.hide(),o&&o.hide()}),s.bind("click",function(e){l&&i.trigger("click"),"折叠所有"===s.text()?(s.text("展开所有"),f($(".objProp,.arrElem"))):(s.text("折叠所有"),$(".objProp,.arrElem").removeClass("collapsed")),r&&r.hide(),o&&o.hide()})},p=function(){$("#jfContent span.e").bind("click",function(e){e.preventDefault();let t=$(this).parent();t.toggleClass("collapsed"),t.hasClass("collapsed")&&f(t)}),$("#jfContent .kvov").bind("click",function(e){if($(this).hasClass("x-outline"))return r&&r.hide(),o&&o.hide(),$(this).removeClass("x-outline"),e.stopPropagation(),!0;$(".x-outline").removeClass("x-outline");let t=$(this).removeClass("x-hover").addClass("x-outline");u(t),function(e){let t=[];do{if(e.hasClass("arrElem")?e.hasClass("rootKvov")||t.unshift("["+e.prevAll(".kvov").length+"]"):t.unshift(e.find(">.k").text()),e.parent().hasClass("rootKvov")||e.parent().parent().hasClass("rootKvov"))break;e=e.parent().parent()}while(e.length&&!e.hasClass("rootKvov"));let n=t.join("#@#").replace(/#@#\[/g,"[").replace(/#@#/g,".");o||(o=$("<div/>").css({position:"fixed",bottom:0,left:0,background:"rgb(0, 0, 0,0.6)",color:"#ff0",fontSize:"12px",fontWeight:"bold",padding:"2px 10px 2px 2px",zIndex:10}).appendTo("body")),o.html("当前路径："+n).show()}(t),$(e.target).is(".kvov .e")?$(e.target).parent().trigger("click"):e.stopPropagation(),"function"==typeof window._OnJsonItemClickByFH&&window._OnJsonItemClickByFH(c(t))}).bind("mouseover",function(e){return $(this).addClass("x-hover"),!1}).bind("mouseout",function(e){$(this).removeClass("x-hover")})};return{format:function(r){l=JSON.stringify(JSON.parse(r),null,4),function(){(e=$("#jfContent"))[0]||(e=$('<div id="jfContent" />').appendTo("body")),(t=$("#jfContent_pre"))[0]||(t=$('<pre id="jfContent_pre" />').appendTo("body")),(n=$("#jfStyleEl"))[0]||(n=$('<style id="jfStyleEl" />').appendTo("head")),(i=$("#formattingMsg"))[0]||(i=$('<div id="formattingMsg"><span class="x-loading"></span>格式化中...</div>').appendTo("body"));try{e.html("").show(),t.html("").hide(),o&&o.hide(),i.hide()}catch(e){}}(),t.html(l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")),JsonFormatDealer.postMessage({type:"SENDING TEXT",text:r,length:r.length})},postMessage:function(n){switch(n[0]){case"NOT JSON":t.show(),e.html('<span class="x-json-tips">JSON不合法，请检查：</span>');break;case"FORMATTING":i.show();break;case"FORMATTED":i.hide(),e.html(n[1]),d(),p(),a(l);break;default:throw new Error("Message not understood: "+n[0])}}}}(),JsonFormatDealer=function(){"use strict";let e=1,t=2,n=3,r=4,o=5,i=6;function s(e){let t={singleQuote:!1,doubleQuote:!1,regex:!1,blockComment:!1,lineComment:!1,condComp:!1};for(let n=0,r=(e=("__"+e+"__").split("")).length;n<r;n++)if(t.regex)"/"===e[n]&&"\\"!==e[n-1]&&(t.regex=!1);else if(t.singleQuote)"'"===e[n]&&"\\"!==e[n-1]&&(t.singleQuote=!1);else if(t.doubleQuote)'"'===e[n]&&"\\"!==e[n-1]&&(t.doubleQuote=!1);else if(t.blockComment)"*"===e[n]&&"/"===e[n+1]&&(e[n+1]="",t.blockComment=!1),e[n]="";else if(t.lineComment)"\n"!==e[n+1]&&"\r"!==e[n+1]||(t.lineComment=!1),e[n]="";else if(t.condComp)"@"===e[n-2]&&"*"===e[n-1]&&"/"===e[n]&&(t.condComp=!1);else if(t.doubleQuote='"'===e[n],t.singleQuote="'"===e[n],"/"===e[n]){if("*"===e[n+1]&&"@"===e[n+2]){t.condComp=!0;continue}if("*"===e[n+1]){e[n]="",t.blockComment=!0;continue}if("/"===e[n+1]){e[n]="",t.lineComment=!0;continue}t.regex=!0}return e.join("").slice(2,-2)}let l=document.createElement("div"),a=document.createElement("span");function c(e,t){let n=a.cloneNode(!1);return n.className=t,n.innerText=e,n}function u(e){let t=a.cloneNode(!1);return t.className=e,t}let f={t_kvov:function(e){let t=l.cloneNode(!1);return t.className=e,t}("kvov"),t_key:u("k"),t_string:u("s"),t_number:u("n"),t_exp:u("e"),t_null:c("null","nl"),t_true:c("true","bl"),t_false:c("false","bl"),t_oBrace:c("{","b"),t_cBrace:c("}","b"),t_oBracket:c("[","b"),t_cBracket:c("]","b"),t_ellipsis:u("ell"),t_blockInner:u("blockInner"),t_colonAndSpace:document.createTextNode(": "),t_commaText:document.createTextNode(","),t_dblqText:document.createTextNode('"')};function d(s,l){let c=function s(l,c){let u,d,p,h,g,m,b,y,v=f;if(u="string"==typeof l?e:"number"==typeof l?t:!1===l||!0===l?o:null===l?i:l instanceof Array?r:n,d=v.t_kvov.cloneNode(!1),u===n||u===r)if("function"==typeof JSON.BigNumber&&l instanceof JSON.BigNumber)l=JSON.stringify(l),u=t;else{for(h in p=!1,l)if(l.hasOwnProperty(h)){p=!0;break}p&&d.appendChild(v.t_exp.cloneNode(!0))}switch(!1!==c?(d.classList.add("objProp"),(g=v.t_key.cloneNode(!1)).textContent=JSON.stringify(c).slice(1,-1),d.appendChild(v.t_dblqText.cloneNode(!1)),d.appendChild(g),d.appendChild(v.t_dblqText.cloneNode(!1)),d.appendChild(v.t_colonAndSpace.cloneNode(!1))):d.classList.add("arrElem"),u){case e:let f=a.cloneNode(!1),h=JSON.stringify(l);if(h=h.substring(1,h.length-1),"h"===l[0]&&"http"===l.substring(0,4)){let e=document.createElement("A");e.href=l,e.innerText=h,f.appendChild(e)}else f.innerText=h;(m=v.t_string.cloneNode(!1)).appendChild(v.t_dblqText.cloneNode(!1)),m.appendChild(f),m.appendChild(v.t_dblqText.cloneNode(!1)),d.appendChild(m);break;case t:(m=v.t_number.cloneNode(!1)).innerText=l,d.appendChild(m);break;case n:if(d.appendChild(v.t_oBrace.cloneNode(!0)),p){d.appendChild(v.t_ellipsis.cloneNode(!1)),b=v.t_blockInner.cloneNode(!1);let e,t,n=0;for(e in l)l.hasOwnProperty(e)&&(n++,y=s(l[e],e),t=v.t_commaText.cloneNode(),y.appendChild(t),b.appendChild(y));y.removeChild(t),d.appendChild(b)}d.appendChild(v.t_cBrace.cloneNode(!0));break;case r:if(d.appendChild(v.t_oBracket.cloneNode(!0)),p){d.appendChild(v.t_ellipsis.cloneNode(!1)),b=v.t_blockInner.cloneNode(!1);for(let e=0,t=l.length,n=t-1;e<t;e++)y=s(l[e],!1),e<n&&y.appendChild(v.t_commaText.cloneNode()),b.appendChild(y);d.appendChild(b)}d.appendChild(v.t_cBracket.cloneNode(!0));break;case o:l?d.appendChild(v.t_true.cloneNode(!0)):d.appendChild(v.t_false.cloneNode(!0));break;case i:d.appendChild(v.t_null.cloneNode(!0))}return d}(s,!1);c.classList.add("rootKvov");let u=document.createElement("DIV");u.id="formattedJson",u.appendChild(c);let d=u.outerHTML;return null!==l&&(d='<div id="jsonpOpener">'+l+" ( </div>"+d+'<div id="jsonpCloser">)</div>'),d}return{postMessage:function(e){let t=null;if("SENDING TEXT"===e.type){let n,r=e.text;try{n=JSON.parse(r)}catch(e){let o;if(!(o=(r=r.trim()).indexOf("(")))return void JsonFormatEntrance.postMessage(["NOT JSON","no opening parenthesis"]);let i,l=s(r.substring(0,o)).trim();if(!l.match(/^[a-zA-Z_$][\.\[\]'"0-9a-zA-Z_$]*$/))return void JsonFormatEntrance.postMessage(["NOT JSON","first bit not a valid function name"]);if(!(i=r.lastIndexOf(")")))return void JsonFormatEntrance.postMessage(["NOT JSON","no closing paren"]);let a=s(r.substring(i+1)).trim();if(""!==a&&";"!==a)return void JsonFormatEntrance.postMessage(["NOT JSON","last closing paren followed by invalid characters"]);r=r.substring(o+1,i);try{n=JSON.parse(r)}catch(e){return void JsonFormatEntrance.postMessage(["NOT JSON","looks like a function call, but the parameter is not valid JSON"])}t=l}if("object"!=typeof n&&"array"!=typeof n)return void JsonFormatEntrance.postMessage(["NOT JSON","technically JSON but not an object or array"]);JsonFormatEntrance.postMessage(["FORMATTING"]);try{localStorage.getItem("just test : Blocked script execution in xxx?"),setTimeout(function(){let e=d(n,t);JsonFormatEntrance.postMessage(["FORMATTED",e])},0)}catch(e){let r=d(n,t);JsonFormatEntrance.postMessage(["FORMATTED",r])}}}}}();window.Formatter={format:JsonFormatEntrance.format},Date.prototype.format=function(e){let t=function(e,t){let n="",r=e<0,o=String(Math.abs(e));return o.length<t&&(n=new Array(t-o.length+1).join("0")),(r?"-":"")+n+o};if("string"!=typeof e)return this.toString();let n=function(t,n){e=e.replace(t,n)},r=this.getFullYear(),o=this.getMonth()+1,i=this.getDate(),s=this.getHours(),l=this.getMinutes(),a=this.getSeconds(),c=this.getMilliseconds();return n(/yyyy/g,t(r,4)),n(/yy/g,t(parseInt(r.toString().slice(2),10),2)),n(/MM/g,t(o,2)),n(/M/g,o),n(/dd/g,t(i,2)),n(/d/g,i),n(/HH/g,t(s,2)),n(/H/g,s),n(/hh/g,t(s%12,2)),n(/h/g,s%12),n(/mm/g,t(l,2)),n(/m/g,l),n(/ss/g,t(a,2)),n(/s/g,a),n(/SSS/g,t(c,3)),n(/S/g,c),e},window.toast=function(e){window.clearTimeout(window.feHelperAlertMsgTid);let t=document.querySelector("#fehelper_alertmsg");if(t)t.querySelector("p").innerHTML=e,t.style.display="block";else{let n=document.createElement("div");n.innerHTML='<div id="fehelper_alertmsg" style="position:fixed;top:5px;right:5px;z-index:1000000"><p style="background:#000;display:inline-block;color:#fff;text-align:center;padding:10px 10px;margin:0 auto;font-size:14px;border-radius:4px;">'+e+"</p></div>",t=n.childNodes[0],document.body.appendChild(t)}window.feHelperAlertMsgTid=window.setTimeout(function(){t.style.display="none"},3e3)},window.JsonABC=function(){return{sortObj:function e(t,n,r){n=-1!==n?1:-1,r=r||!1;let o={};return"function"==typeof JSON.BigNumber&&t instanceof JSON.BigNumber?t:(i=t,"[object Array]"===Object.prototype.toString.call(i)?((o=r?t:t.sort()).forEach(function(t,i){o[i]=e(t,n,r)}),r||(o=o.sort(function(e,t){return(e="object"==typeof e?JSON.stringify(e):e)<(t="object"==typeof t?JSON.stringify(t):t)?-1*n:e>t?1*n:0}))):function(e){return"[object Object]"===Object.prototype.toString.call(e)}(t)?(o={},Object.keys(t).sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1*n:e.toLowerCase()>t.toLowerCase()?1*n:0}).forEach(function(i){o[i]=e(t[i],n,r)})):o=t,o);var i}}}(),window.JsonEnDecode={uniEncode:function(e){return escape(e).replace(/%u/gi,"\\u").replace(/%7b/gi,"{").replace(/%7d/gi,"}").replace(/%3a/gi,":").replace(/%2c/gi,",").replace(/%27/gi,"'").replace(/%22/gi,'"').replace(/%5b/gi,"[").replace(/%5d/gi,"]").replace(/%3D/gi,"=").replace(/%08/gi,"\b").replace(/%0D/gi,"\r").replace(/%0C/gi,"\f").replace(/%09/gi,"\t").replace(/%20/gi," ").replace(/%0A/gi,"\n").replace(/%3E/gi,">").replace(/%3C/gi,"<").replace(/%3F/gi,"?")},uniDecode:function(e){e=e.replace(/(\\)?\\u/gi,"%u").replace("%u0025","%25");let t=(e=unescape(e.toString().replace(/%2B/g,"+"))).match(/(%u00([0-9A-F]{2}))/gi);if(t)for(let n=0;n<t.length;n++){let r=t[n].substring(1,3);Number("0x"+r)>=128&&(e=e.replace(t[n],r))}return e=unescape(e.toString().replace(/%2B/g,"+"))},urlDecode:function(e){try{return decodeURIComponent(e)}catch(t){return e}},urlDecodeByFetch:function(e){return new Promise((t,n)=>{try{fetch(`data:text/javascript;charset=utf8,${e.replace(/"/g,"%22").replace(/#/g,"%23")}`).then(e=>e.text(),e=>{n&&n(e)}).then(e=>{t&&t(e)})}catch(n){t&&t(e)}})},urlDecodeByIframe:function(e,t){return t=t||"utf8",new Promise((n,r)=>{let o=document.querySelector("#_urlDecode_iframe_");o&&o.remove(),(o=document.createElement("iframe")).setAttribute("id","_urlDecode_iframe_"),o.style.display="none",o.width="0",o.height="0",o.scrolling="no",o.allowtransparency="true",o.frameborder="0",o.src="about:blank",document.body.appendChild(o),window._urlDecodeCallback=window._urlDecodeCallback||function(e){n&&n(e.data),o.remove()},window.removeEventListener("message",window._urlDecodeCallback),window.addEventListener("message",window._urlDecodeCallback,!1);try{o.contentWindow.document.write("<html><scrip"+`t charset="${t}" src="data:text/javascript;charset=${t},parent.postMessage(\`${e.replace(/"/g,"%22").replace(/#/g,"%23")}\`)"></scrip`+"t></html>")}catch(e){r&&r(e)}})}},window.JsonAutoFormat=(()=>{"use strict";let e="",t=0,n=null,r=null,o=null,i=null,s=!1,l=function(e){let t=0;if("object"==typeof e){let n=Object.keys(e);t+=n.length,n.forEach(n=>{e[n]&&"object"==typeof e[n]&&(t+=l(e[n]))})}return t},a=function(a){let f=function(){let e=(document.querySelectorAll("body>pre")[0]||{textContent:""}).textContent.trim();if(e||(e=(document.body.textContent||"").trim()),!e)return!1;let t=document.body.childNodes,n="",r="application/json"===document.contentType;for(let o=0,i=t.length;o<i;o++){let i=t[o];if(i.nodeType===Node.TEXT_NODE)n+=(i.textContent||"").trim();else if(r)i.offsetHeight+i.offsetWidth!==0&&i.textContent.length>n.length&&(n=i.textContent);else{if(t[o].nodeType!==Node.ELEMENT_NODE)return!1;{let t=i.tagName.toLowerCase(),n=(i.textContent||"").trim();if(("pre"!==t||n!==e)&&(i.offsetWidth+i.offsetHeight!==0&&n||["script","link"].includes(t)))return!1}}}return(n||"").trim()||e}();if(f){try{let e=/^([\w\.]+)\(\s*([\s\S]*)\s*\)$/gm,t=/^(try\s*\{\s*)?/g,s=/([;\s]*\}\s*catch\s*\(\s*\S+\s*\)\s*\{([\s\S])*\})?[;\s]*$/g,l=f.replace(t,function(){return o=o||arguments[1],""}).replace(s,function(){return i=i||arguments[1],""}).trim(),a=e.exec(l);if(null!=a&&(o&&i||!o&&!i))n=a[1],f=a[2];else if(!(e=/^([\{\[])/).test(f))return;r=JSON.parse(f)}catch(e){try{r=new Function("return "+f)()}catch(e){try{if("string"==typeof(r=new Function("return '"+f+"'")()))try{r=JSON.parse(r)}catch(e){r=new Function("return "+r)()}}catch(e){return}}}if(null!=r&&"object"==typeof r){try{f=JSON.stringify(r)}catch(e){return}if(a&&a.MAX_JSON_KEYS_NUMBER){let e=l(r);if(e>a.MAX_JSON_KEYS_NUMBER){let t='当前JSON共 <b style="color:red">'+e+"</b> 个Key，大于预设值"+a.MAX_JSON_KEYS_NUMBER+"，已取消自动格式化；可到FeHelper设置页调整此配置！";return toast(t)}}window.jsonformatContentScriptCssInject?window.jsonformatContentScriptCssInject():chrome.runtime.sendMessage({type:"fh-dynamic-any-thing",func:((e,t)=>{let n=e=>{chrome.tabs.insertCSS({code:e})},r=Awesome.getContentScript("json-format",!0);return"string"==typeof r&&r.length?n(r):r instanceof Promise?r.then(e=>{e?n(e):fetch("../json-format/content-script.css").then(e=>e.text()).then(e=>n(e))}):r||fetch("../json-format/content-script.css").then(e=>e.text()).then(e=>n(e)),t&&t(),!0}).toString()});let n=$("body>pre").hide().length;$("body").prepend((()=>['<div class="x-toolbar" style="display:none">    <a href="http://www.baidufe.com/fehelper/feedback.html" target="_blank" class="x-a-title">        <img src="'+chrome.runtime.getURL("static/img/fe-16.png")+'" alt="fehelper"/> FeHelper</a>        <span class="x-b-title"></span>        <span class="x-split">|</span>\n        <input type="checkbox" id="json_endecode"><label for="json_endecode">自动解码</label>        <span class="x-sort">            <span class="x-split">|</span>            <span class="x-stitle">排序：</span>            <label for="sort_null">默认</label><input type="radio" name="jsonsort" id="sort_null" value="0" checked>            <label for="sort_asc">升序</label><input type="radio" name="jsonsort" id="sort_asc" value="1">            <label for="sort_desc">降序</label><input type="radio" name="jsonsort" id="sort_desc" value="-1">        </span>    <span class="x-split">|</span>\n    <button class="xjf-btn" id="jsonGetCorrectCnt">乱码修正</button>    <span id="optionBar"></span>    <span class="fe-feedback">        <a id="toggleBtn" title="展开或收起工具栏">隐藏&gt;&gt;</a>    </span></div>','<div id="formattingMsg"><span class="x-loading"></span>格式化中...</div>','<div class="mod-json mod-contentscript"><div class="rst-item">','<div id="jfCallbackName_start" class="callback-name"></div>','<div id="jfContent"></div>','<pre id="jfContent_pre"></pre>','<div id="jfCallbackName_end" class="callback-name"></div>',"</div></div>"].join(""))()),n||Array.prototype.slice.call(document.body.childNodes).forEach(e=>{e.nodeType===Node.TEXT_NODE&&e.remove()}),e=f,t=parseInt(localStorage.getItem("json_sort_type_key")||0),c(t),$("[name=jsonsort][value="+t+"]").attr("checked",1),s=null===(s=localStorage.getItem("json_auto_decode"))?a&&a.AUTO_TEXT_DECODE:"true"===s,$("#json_endecode").prop("checked",s),u()}}},c=function(t){let r=e;if(0!==(t=t||0)){let n=JsonABC.sortObj(JSON.parse(e),parseInt(t),!0);r=JSON.stringify(n)}s?(async()=>{let e=await JsonEnDecode.urlDecodeByFetch(r);r=JsonEnDecode.uniDecode(e),Formatter.format(r),$(".x-toolbar").fadeIn(500)})():(Formatter.format(r),$(".x-toolbar").fadeIn(500)),null!=n&&(o&&i?($("#jfCallbackName_start").html('<pre style="padding:0">'+o+"</pre>"+n+"("),$("#jfCallbackName_end").html(')<br><pre style="padding:0">'+i+"</pre>")):($("#jfCallbackName_start").html(n+"("),$("#jfCallbackName_end").html(")")))},u=function(){$("[name=jsonsort]").click(function(e){let n=parseInt(this.value);n!==t&&(c(n),t=n),localStorage.setItem("json_sort_type_key",n)}),$("#json_endecode").click(function(e){s=this.checked,localStorage.setItem("json_auto_decode",s),c(t)});let n=$(".fe-feedback #toggleBtn").click(function(e){e.preventDefault(),e.stopPropagation(),chrome.runtime.sendMessage({type:"fh-dynamic-any-thing",func:((e,t)=>{let n="false"!==String(localStorage.getItem("JSON_TOOL_BAR_ALWAYS_SHOW"));localStorage.setItem("JSON_TOOL_BAR_ALWAYS_SHOW",!n),t&&t(!n)}).toString()},e=>{let t=document.querySelector("div.x-toolbar").classList;e?(t.remove("t-collapse"),n.html("隐藏&gt;&gt;")):(t.add("t-collapse"),n.html("&lt;&lt;"))})});chrome.runtime.sendMessage({type:"fh-dynamic-any-thing",func:((e,t)=>{let n="false"!==String(localStorage.getItem("JSON_TOOL_BAR_ALWAYS_SHOW"));t&&t(n)}).toString()},e=>{let t=document.querySelector("div.x-toolbar").classList;e?(t.remove("t-collapse"),n.html("隐藏&gt;&gt;")):(t.add("t-collapse"),n.html("&lt;&lt;"))}),$("#jsonGetCorrectCnt").click(function(n){fetch(location.href).then(e=>e.text()).then(n=>{e=n,c(t)})}),$("#capturePage").click(function(e){chrome.runtime.sendMessage({type:"capture-visible-page"},e=>{window.open(e)}),e.preventDefault(),e.stopPropagation()})};return{format:e=>{setTimeout(()=>{a(e)},pleaseLetJsLoaded)}}})();