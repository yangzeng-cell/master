import Awesome from"../dynamic/awesome.js";import MSG_TYPE from"../static/js/common.js";new Vue({el:"#pageContainer",data:{manifest:{},fhTools:{}},created:function(){this.manifest=chrome.runtime.getManifest(),Awesome.getInstalledTools().then(e=>{this.fhTools=e}),DarkModeMgr.turnLightAuto()},mounted:function(){document.body.addEventListener("keydown",e=>{let t=e.keyCode||e.which;if(![38,40,13].includes(t))return!1;let o,n,r=document.querySelector("#pageContainer ul"),s=r.querySelector("li.x-hovered");switch(s&&(s.classList.remove("x-hovered"),o=s.nextElementSibling,n=s.previousElementSibling),o||(o=r.querySelector("li:first-child")),n||(n=r.querySelector("li:last-child")),t){case 38:n.classList.add("x-hovered");break;case 40:o.classList.add("x-hovered");break;case 13:s.click()}},!1)},methods:{runHelper:function(e,t){e===MSG_TYPE.JSON_FORMAT?chrome.runtime.sendMessage({type:MSG_TYPE.OPEN_PAGE,page:MSG_TYPE.JSON_FORMAT}):chrome.runtime.sendMessage({type:MSG_TYPE.OPEN_DYNAMIC_TOOL,page:MSG_TYPE.DYNAMIC_TOOL,query:`tool=${e}`,noPage:!!t}),window.close()},openOptionsPage:()=>{chrome.runtime.openOptionsPage(),window.close()},openUrl:function(e){return e.preventDefault(),chrome.tabs.create({url:e.currentTarget.href}),window.close(),!1}}});