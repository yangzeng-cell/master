# Day11 作业布置

## 一. 完成课堂所有的代码







## 二. 异步函数和普通函数的区别

* **异步函数**

  * 使用`async`关键字声明的函数

    ```js
    // async function foo() {}
    
    // const bar = async function() {}
    
    // const baz = async () => {}
    
    // class Person {
    //   async running() {}
    // }
    ```

  * 异步函数的执行流程

    * 异步函数的内部代码执行过程和普通的函数是一致的，默认情况下也是会被同步执行
    * 返回值和普通函数的区别
      * 情况一：异步函数也可以有返回值，但是异步函数的返回值相当于被包裹到`Promise.resolve`中
      * 情况二：如果我们的异步函数的返回值是`Promise`，状态由会由`Promise`决定；
      * 情况三：如果我们的异步函数的返回值是一个对象并且实现了`thenable`，那么会由对象的方`then`法来决定
    * 如果在`async`函数中抛出异常
      * 并不会报错, 而是作为`Promise`的`reject`来传递





## 三. 说说线程和进程的区别以及关系

* **进程**
  
  * 是`cpu`分配资源的最小单位；（是能拥有资源和独立运行的最小单位）
  * 计算机已经运行的程序，是操作系统管理程序的一种方式  (**官方说法**)
  * 可以认为启动一个应用程序，就会默认启动一个进程（也可能是多个进程）**(个人解释)**
  * 也可以说进程是线程的容器
  
* **线程**
  
  * 是`cpu`调度的最小单位；（线程是建立在进程的基础上的一次程序运行单位，一个进程中可以有多个线程）
  * 操作系统能够运行运算调度的最小单位，通常情况下它被包含在进程中  **(官方说法)**
  * 每一个进程中，都会启动至少一个线程用来执行程序中的代码，这个线程被称之为主线程
  
* **操作系统的工作方式**
  * 如何做到同时让多个进程同时工作?
    * 因为`CPU`的运算速度非常快, 可以快速的在多个进程之间迅速的切换
    * 当进程中的线程获取到世间片时, 就可以快速执行我们编写的代码
    * 由于`CPU`执行速度过于变态, 对于用户来说是感受不到这种快速切换的
  
* **浏览器中`JavaScript`线程**
  * **`JavaScript`为什么是单线程的**
    
    ```js
    // 这主要和js的用途有关，js是作为浏览器的脚本语言，主要是实现用户与浏览器的交互，以及操作dom;这决定了它只能是单线程，否则会带来很复杂的同步问题。举个例子：如果js被设计了多线程，如果有一个线程要修改一个dom元素，另一个线程要删除这个dom元素，此时浏览器就会一脸茫然，不知所措。所以，为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变
    ```
    
    * 进程容器是浏览器或者`Node`
    
  * **浏览器是多进程的?**
    
    ```js
    //  放在浏览器中，每打开一个tab页面，其实就是新开了一个进程，在这个进程中，还有ui渲染线程，js引擎线程，http请求线程等。所以，浏览器是一个多进程的。为了利用多核CPU的计算能力，HTML5提出Web Worker标准，允许JavaScript脚本创建多个线程，但是子线程完全受主线程控制，且不得操作DOM.所以，这个新标准并没有改变JavaScript单线程的本质。
    ```
    
    * 目前多数浏览器都是多进程的,  打开一个`tab`页面就会开启一个新的进程,  防止因为一个页面的卡死导致浏览器的强制退出
    * 每个进程中又有很多的线程，其中包括执行`JavaScript`代码的线程
    
  * 线程中`JavaScript`代码的执行
    * 它是在一个单独的线程中执行的, 意味着`JavaScript`代码在同一时刻只能做一件事
    * 这**非常耗时**, 意味着当前线程会被阻塞
    
  * 所以耗时的操作并不是在`JavaScript`线程中执行的
    * 浏览器的每个进程是多线程的，那么其他线程可以来完成这个耗时的操作
    * 比如网络请求、定时器，只需要在特性的时候执行应该有的回调即可







## 四. 说说你对事件队列、微任务、宏任务的理解

* **事件队列**
  * 事件队列是一种数据结构，可以存放要执行的任务。它符合**队列**“**先进先出**”的特点   
* **宏/微任务**
  * 首先它们都是异步任务
  * 宏任务列队
    * 用来保存待执行的宏任务（回调）
    * 如: `pajax、setTimeout、setInterval、DOM`监听、`UI Rendering`等 会被加入到宏列队
  * 微任务列队
    * 用来保存待执行的微任务（回调）
    * 如: `Promise`的`then`回调、 `Mutation Observer API、queueMicrotask()`等 会被加入到微列队
  * `JS`执行时会区别这两个队列
    * `JS`引擎首先必须先执行所有的初始化同步任务代码
    * 每次准备取出第一个宏任务执行前，都要将所有的微任务一个一个取出来执行，
    * 也就是优先级比宏任务高，且与微任务所处的代码位置无关
    * 也就是宏任务执行之前，必须保证微任务队列是空的；
    * 如果不为空，那么就优先执行微任务队列中的任务（回调）





## 五. 掌握微任务、宏任务相关的面试题









































