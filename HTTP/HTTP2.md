简要概括:http2.0 是基于 1999 年发布的 http1.0 之后的首次更新

- **提升访问速度**(可以对于，请求资源所需时间更少，访问速度更快，相比 http1.0)
- **允许多路复用**:多路复用允许同时通过单一的 HTTP/2 连接发送多重请求-响应信息。改 善了:在 http1.1 中，浏览器客户端在同一时间，针对同一域名下的请求有一定数量限 制(连接数量)，超过限制会被阻塞
- **二进制分帧**:HTTP2.0 会将所有的传输信息分割为更小的信息或者帧，并对他们进行二 进制编码
- **首部压缩**
- **服务器端推送**



### HTTP2和HTTP1有什么区别

**相对于HTTP1.0，HTTP1.1的优化**

- 缓存处理：多了`Entity tag`，`If-Unmodified-Since`, `If-Match`, `If-None-Match`等缓存信息（`HTTTP1.0 If-Modified-Since`,`Expires`）
- 带宽优化及网络连接的使用
- 错误通知的管理
- `Host`头处理
- 长连接： `HTTP1.1`中默认开启`Connection`： `keep-alive`，一定程度上弥补了`HTTP1.0`每次请求都要创建连接的缺点

**相对于HTTP1.1，HTTP2的优化**

- `HTTP2`支持二进制传送（实现方便且健壮），`HTTP1.x`是字符串传送
- `HTTP2`支持多路复用
- `HTTP2`采用`HPACK`压缩算法压缩头部，减小了传输的体积
- `HTTP2`支持服务端推送

### http/2为什么要做头部压缩，实现原理是什么？

> http请求都是由状态行、请求/响应头部、消息主体三部分组成，一般而言，消息主体都会经过gzip压缩，或者本身传输的就是压缩后的二进制文件（例如图片、音频），但是状态行和头部却没有经过任何压缩，直接以文本传输。对于一个请求而言，其headers所占的字节数也不少，尤其cookie，有些时候headers甚至超过了主体的大小。

头部压缩使用了HPACK算法。会在支持http/2的浏览器和服务端之间：

- 维护一份相同的静态字典，包含常见的头部名称以及特别常见的头部名称和值的组合。这样对完全匹配的头部键值对，例如：method：GET，就可以使用一个字符表示。对于头部名称可以匹配的，例如cookie： xxx，可以将名称使用一个字符表示
- 维护一份相同的动态字典，可以动态的添加内容
- 支持基于静态哈夫曼码表的哈夫曼编码（Huffman Coding）

### http/2的Server Push有什么优点

- 支持服务端推送，意味着服务端可以在发送页面`HTML`时主动推送其它资源，而不用等到浏览器解析到相应位置再发起请求
- 另外，服务端可以主动推送，客户端也有权选择是否接收。如果服务端推送的资源已经被浏览器缓存过，浏览器可以通过发送`RST_STREAM`帧来拒收

### 谈谈你对多路复用的理解

> - `HTTP2`采用二进制格式传输，取代了`HTTP1.x`的文本格式，二进制格式解析更高效。
> - 多路复用代替了`HTTP1.x`的序列和阻塞机制，所有的相同域名请求都通过同一个`TCP`连接并发完成。在`HTTP1.x`中，并发多个请求需要多个`TCP`连接，浏览器为了控制资源会有`6-8`个`TCP`连接都限制。

**HTTP2中**

- 同域名下所有通信都在单个连接上完成，消除了因多个 `TCP` 连接而带来的延时和内存消耗。
- 单个连接上可以并行交错的请求和响应，之间互不干扰

> - `http/1` 的请求和响应报文，都是由起始行、首部和实体正文（可选）组成，各部分之间以文本换行符分隔。而`http/2`将请求和响应数据分隔成为更小的帧，并对他们采用二进制编码
> - `http/2` 中，同域名下的所有请求都在一个连接上完成，这个连接可以承载任意数量的双向数据流。每个数据流都以消息的形式发送，消息由一个或多个帧组成。多个帧之间可以乱序发送，然后根据帧首部的流标识可以重新组装