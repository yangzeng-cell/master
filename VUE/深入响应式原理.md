# 深入响应式原理

vue2的响应式原理是遍历对象中的各个属性，使用Object.defineProperty定义get和set方法，对使用到该属性的方法进行依赖收集，在数据发生变化时执行该函数，更新到页面上，vue2使用Object.defineProperty来劫持getset，这样无法监听数组和对象的变化，需要重写数组中的方法，无法监听数组下标赋值和length的变化。也无法监听属性的新增和移除，需要使用$set进行手动的更新。

1.无法监听数据下表赋值变化可以使用vm.$set

2.监听length的赋值可以使用Array,prototype.splice(newLength)

Vue3的响应式是改用new Proxy来实现的,可以不需要遍历对象属性进行监听，还可以有13中拦截器方法，

